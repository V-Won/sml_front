<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta name="viewport"
    content="width=device-width, initiainclude-htmll-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=medium-dpi">
  <title>삼광의료재단</title>
  <!-- favicon -->
  <link rel="icon" type="image/svg+xml" href="../static/images/logo/favicon.svg">
  <link rel="shortcut icon" type="image/x-icon" href="../static/images/logo/favicon.ico" />
  <link rel="stylesheet" href="../static/css/style.css"><!-- 공통 css -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" /><!-- swiper css -->
</head>

<body id="main">

  <!-- header -->
  <div include-html="static/include/header.html" data-include="header"></div>
  <!-- //header -->

  <!-- box-wrap -->
  <div class="box-wrap">
    <!-- inner-wrap -->
    <div class="inner-wrap">
      <!-- sub-top -->
      <div class="sub-top"
        style="background: url(../static/images/@/sub_top_A.png) no-repeat; background-position: 61%">
        <div class="inner-gap-1">
          <div class="text-box">
            <ul class="sub-nav-2">
              <li>
                <a href="#none">검사부 안내</a>
              </li>
              <li>
                <a href="#none">정도관리</a>
              </li>
              <li class="nav-acc" data-event="commonSelectBox">
                <a href="#none" class="button">인증내역</a>
                <ul class="list">
                  <!-- hover시 font-weight 문제로 title 사용 -->
                  <li><a href="#none" title="정도관리 개요">정도관리 개요</a></li>
                  <li><a href="#none" title="인증내역">인증내역</a></li>
                </ul>
              </li>
            </ul>
            <h3 class="sub-tit">인증내역</h3>
          </div>
        </div>
      </div>
      <!-- //sub-top -->

      <div class="inner-gap-1" style="display: flex;gap:10px;flex-wrap: wrap;">
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="임상화학"><span>장비 보기</span></button>
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="요화학"><span>장비 보기</span></button>
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="혈액학"><span>장비 보기</span></button>
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="면역학"><span>장비 보기</span></button>
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="핵의학"><span>장비 보기</span></button>
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="특수화학"><span>장비 보기</span></button>
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="미생물학"><span>장비 보기</span></button>
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="분자미생물학"><span>장비 보기</span></button>
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="분자유전학"><span>장비 보기</span></button>
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="세포유전학"><span>장비 보기</span></button>
        <button type="button" class="common-btnType-1 view-btn" data-event="layerOpen" data-layerId="ly-1" data-text="검체관리"><span>장비 보기</span></button>
      </div>
    </div>
    <!-- //inner-wrap -->
  </div>
  <!-- //box-wrap -->

  <!-- footer -->
  <div include-html="static/include/footer.html" data-include="footer"></div>
  <!-- //footer -->

  <!-- 검체용기 일람 레이어 팝업 -->
  <div class="box-layer layer-video request" style="display: block;" id="ly-1"><!-- 비디오 레이어 팝업 class="layer-video" -->
    <div class="inner-layer absol" tabindex="0">
      <div class="inner-layer" tabindex="0">
        <div class="gap" style="max-width: 800px;"><!-- max-width 설정 -->
          <div class="box" style="max-height: fit-content;">
            <!-- inspect-item-swiper -->
            <div class="inspect-item-swiper">
              <div class="common-tab type-2" data-event="commonTab">
                <div class="swiper-container snbSwiper type-2">
                  <ul class="list swiper-wrapper">
                    <li class="swiper-slide is-active" data-index="0"><button class="btn">Dream γ-10 counter Tissue-Tek
                        Prisma+Tissue-Tek® Glas™ g2</span></li>
                    <li class="swiper-slide" data-index="1"><span class="btn">Alinity I</span></li>
                    <li class="swiper-slide" data-index="2"><span class="btn">Unicel DXI-800</span></li>
                  </ul>
                </div>
              </div>
              <div class="swiper mySwiper1">
                <div class="swiper-wrapper">
                  <div class="swiper-slide">
                    <div class="img-box">
                      <div class="img-holder">
                        <span>
                          <img src="../static/images/equipment/seoul29_Dream γ-10 counter.jpg">
                        </span>
                      </div>
                    </div>
                    <p class="name">Dream γ-10 counter <br>Tissue-Tek Prisma+Tissue-Tek® Glas™ g2</p>
                    <div class="text-box">
                      <div class="flex">
                        <p class="title">제조사</p>
                        <p class="info">Roche</p>
                      </div>
                      <div class="flex">
                        <p class="title">용도</p>
                        <p class="info">자동 면역 분석기</p>
                      </div>
                    </div>
                  </div>
                  <div class="swiper-slide">
                    <div class="img-box">
                      <div class="img-holder">
                        <span>
                          <img src="../static/images/equipment/seoul17_Alinity I.jpg">
                        </span>
                      </div>
                    </div>
                    <p class="name">Alinity I</p>
                    <div class="text-box">
                      <div class="flex">
                        <p class="title">제조사</p>
                        <p class="info">Roche</p>
                      </div>
                      <div class="flex">
                        <p class="title">용도</p>
                        <p class="info">자동 면역 분석기</p>
                      </div>
                    </div>
                  </div>
                  <div class="swiper-slide">
                    <div class="img-box">
                      <div class="img-holder">
                        <span>
                          <img src="../static/images/equipment/seoul18_Unicel DXI-800.jpg">
                        </span>
                      </div>
                    </div>
                    <p class="name">Unicel DXI-800</p>
                    <div class="text-box">
                      <div class="flex">
                        <p class="title">제조사</p>
                        <p class="info">Roche</p>
                      </div>
                      <div class="flex">
                        <p class="title">용도</p>
                        <p class="info">자동 면역 분석기</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-pagination"></div>
              </div>
              <div style="background-color: red;">
                <div class="header-test"></div>
                <section></section>
              </div>
            </div>
            <!-- //inspect-item-swiper -->
          </div>
          <button data-event="layerClose"></button>
        </div>
      </div>
      <div class="verticalAlign"></div>
    </div>
    <!-- //검체용기 일람 레이어 팝업 -->

    <!-- 공통 js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1/bundled/lenis.min.js"></script>
    <script src="../static/js/includeHTML.js"></script>
    <script src="../static/js/front.js"></script>
    <!-- //공통 js -->

    <!-- swiper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
    <script src="../static/js/swiper.min.js"></script>
    <!-- //swiper.js -->

    <script>
      /**
       * header bg type
       *  transparent
       *  white
      */
      headerBg({
        bg: "transparent"
      })
      selectBox.initialize();
      layerPopup.initialize();

      const actionEvent = () => {
        var swiper2 = new Swiper('.snbSwiper.type-2', {
          slidesPerView: 'auto',
          preventClicks: true,
          preventClicksPropagation: false,
          observer: true,
          observeParents: true,
        });

        var swiper1 = new Swiper(".mySwiper1", { // 상단 본문 이미지
          spaceBetween: 20,
          loop: false,
          loopedSlides: 1,
          slidesPerView: 1,
          autoHeight: true,
          thumbs: {
            swiper: swiper2,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
          pagination: {
            el: ".swiper-pagination",
            type: "fraction",
          }
        });

        swiper1.on('transitionEnd', function () {
          // let idx = swiper1.realIndex;
          // swiper2.realIndex = idx;
          // swiper2.slideTo(idx);
          // console.log(idx);
        });

        var $snbSwiperItem2 = $('.snbSwiper.type-2 .swiper-wrapper .swiper-slide .btn');
        $snbSwiperItem2.click(function () {
          var target2 = $(this).parent();
          $snbSwiperItem2.parent().removeClass('is-active')
          target2.addClass('is-active');
          muCenter2(target2, target2.index());
        })

        function muCenter2(target2, idx) {
          var snbwrap2 = $('.snbSwiper.type-2 .swiper-wrapper');
          var targetPos2 = target2.position();
          var box2 = $('.snbSwiper.type-2');
          var boxHarf2 = box2.width() / 2;
          var pos2;
          var listWidth2 = 0;

          snbwrap2.find('.swiper-slide').each(function () { listWidth2 += $(this).outerWidth(); })

          var selectTargetPos2 = targetPos2.left + target2.outerWidth() / 2;
          if (selectTargetPos2 <= boxHarf2) { // left
            pos2 = 0;
          } else if ((listWidth2 - selectTargetPos2) <= boxHarf2) { //right
            pos2 = listWidth2 - box2.width();
          } else {
            pos2 = selectTargetPos2 - boxHarf2;
          }
        }

        document.querySelectorAll('.snbSwiper.type-2 > ul > li').forEach((item) => {
          item.addEventListener('click', (e) => {
            swiper2.slideTo(e.currentTarget.getAttribute('data-index'));
          });
        });
      }

      actionEvent();

      window.addEventListener('resize', () => {
        actionEvent();
      })

      window.addEventListener('load', () => {
        if (window.innerWidth <= 1024) {
          actionEvent();
        }
      })

      document.querySelectorAll('.view-btn').forEach((e) => {
        e.addEventListener('click', (item) => {
          actionEvent();
        })
      })

      // 상품 json
      /**
       * 1. 엑셀 > json 파일 변환 사이트.
       * https://products.aspose.app/cells/ko/conversion/excel-to-json
       * 2. Guide
       * https://developer.mozilla.org/ko/docs/Learn/JavaScript/Objects/JSON
      */
      var headerTest = document.querySelector(".header-test");
      var section = document.querySelector("section");

      // 샘플 https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json
      var requestURL = "/static/js/list_product.json";
      var request = new XMLHttpRequest();
      request.open("GET", requestURL);
      request.responseType = "json";
      request.send();

      request.onload = function () {
        var superHeroes = request.response;
        showList(superHeroes);
      };

      function showList(jsonObj) {
        var heroes = jsonObj["전체"];
        console.log(jsonObj);

        for (var i = 0; i < heroes.length; i++) {
          console.log(heroes[i]["파일명"]);
        }
      }
      // //상품 json
    </script>

</body>

</html>